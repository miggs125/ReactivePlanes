[{"/Users/miguelroncancio/Personal_projects/architech-demo/src/index.js":"1","/Users/miguelroncancio/Personal_projects/architech-demo/src/App.js":"2","/Users/miguelroncancio/Personal_projects/architech-demo/src/store.js":"3","/Users/miguelroncancio/Personal_projects/architech-demo/src/hooks/useSection.js":"4","/Users/miguelroncancio/Personal_projects/architech-demo/src/components/Section.jsx":"5","/Users/miguelroncancio/Personal_projects/architech-demo/src/hooks/useEventListener.js":"6","/Users/miguelroncancio/Personal_projects/architech-demo/src/util/index.js":"7"},{"size":219,"mtime":1610671977207,"results":"8","hashOfConfig":"9"},{"size":4608,"mtime":1611212421765,"results":"10","hashOfConfig":"9"},{"size":290,"mtime":1611204583898,"results":"11","hashOfConfig":"9"},{"size":533,"mtime":1610675858080,"results":"12","hashOfConfig":"9"},{"size":1175,"mtime":1610676343720,"results":"13","hashOfConfig":"9"},{"size":1211,"mtime":1611088105842,"results":"14","hashOfConfig":"9"},{"size":160,"mtime":1611210627325,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"4qg4x3",{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"/Users/miguelroncancio/Personal_projects/architech-demo/src/index.js",[],["34","35"],"/Users/miguelroncancio/Personal_projects/architech-demo/src/App.js",["36"],"import './App.css';\nimport { useRef, useEffect, Suspense } from 'react';\nimport useEventListener from './hooks/useEventListener';\nimport { useGLTF } from '@react-three/drei/useGLTF';\nimport {Canvas, useFrame} from 'react-three-fiber';\n\n\nimport state from './store'; \nimport { Box3, Sphere, Vector2, Mesh, DoubleSide } from 'three';\nimport utils from './util/index';\n\nconst {normalize} = utils;\n\nfunction Model() {\n  const gltf  = useGLTF('./model/Wolf-Blender-2.82a.glb', true);\n  return <primitive object={gltf.scene} position={[0, 0, 0]} />;\n}\n\nfunction Content() {\n  const ref = useRef();\n  const groupArray = [];\n  const aspectRatio = window.innerWidth / window.innerHeight;\n  const numRows = 30;\n  const numCol = Math.round(numRows*aspectRatio);\n  const planeOffset = 5;\n  const planeWidth = 2;\n  const planeHeight = 2;\n  \n  useEffect(()=> {\n    if(ref.current) {\n      centerGroup(ref.current);\n    }\n  }, []);\n\n  for(let k =0; k<4; k++) {\n    for(let j=0; j<numCol; j++){ // columns\n      for(let i=0; i<numRows; i++) { // rows\n        const x_position = j*planeOffset+ (k%2?-1:1)*k+(Math.random()*10-5);\n        groupArray.push(\n          <Plane \n            args={[planeWidth,planeHeight]} \n            color='green' \n            position={[x_position,i*planeOffset,k*10]}\n            rotation={[0,Math.PI,k*Math.PI/4]}\n            opacity={0.2}\n          />)\n        }\n    }\n  }\n  return <group ref={ref}>{groupArray}</group>;\n}\n\nfunction centerGroup(group) {\n  if (!group) return;\n  const boundingBox = new Box3().setFromObject(group);\n  const {center} = boundingBox.getBoundingSphere(new Sphere());\n\n  group.traverse((child) => {\n    if (child instanceof Mesh){\n      child.geometry.position = child.position.sub(center);\n    }\n  })\n}\n\nfunction Plane({args, color='black', opacity, ...props}){\n  const plane = useRef();\n\n  useFrame(()=> {\n    if (plane.current && state.mousePosition.current) {\n      const relativePositionX = \n        state.mousePosition.current.x -\n        normalize(plane.current.position.x*state.zoom, window.innerWidth);\n\n        const relativePositionY = \n        state.mousePosition.current.y -\n        normalize(plane.current.position.y*state.zoom, window.innerHeight);\n\n      if (state.mousemove.current) {\n          plane.current.rotation.y = (relativePositionY)*Math.PI/2;\n          plane.current.rotation.x = (1-relativePositionX)*Math.PI/2;\n          // plane.current.rotation.z = ((relativePositionY+relativePositionY)*.5)*Math.PI/2;\n      }\n    }\n  });\n\n  return (\n    <mesh ref={plane} {...props}>\n      <planeBufferGeometry attach=\"geometry\" args={args}/>\n      <meshLambertMaterial \n        attach=\"material\" \n        transparent={!!opacity} \n        opacity={!!opacity ? opacity : 1} \n        color={color} \n        side={DoubleSide}\n      />\n    </mesh>\n  );\n}\n\nfunction Box({l=1,w=1,h=1, material}) {\n  return (\n    <mesh>\n      <boxBufferGeometry attach=\"geometry\" args={[l, w, h]} />\n      {material ? material:<meshStandardMaterial attach=\"material\" />}\n    </mesh>\n  );\n}\n\n\n\nfunction BackDrop() {\n  return (\n    <mesh receiveShadow position={[0, -1, -5]}>\n      <planeBufferGeometry attach=\"geometry\" args={[500, 500]} />\n      <meshStandardMaterial attach=\"material\" color=\"black\" />\n    </mesh>\n  );\n}\n\n\nfunction App() {\n  const scrollArea = useRef();\n  const onScroll = e => (state.top.current = e.target.scrollTop);\n  let timeout;\n\n  const onMouseMove = (e) => {\n    clearTimeout(timeout,300);\n    timeout = setTimeout(() => {\n      state.mousemove.current = false;\n    });\n      const { clientX, clientY } = e;\n      if (state.mousePosition.current) {\n          state.mousemove.current = true;\n          state.mousePosition.current.x = normalize(clientX, window.innerWidth);\n          state.mousePosition.current.y = -1* normalize(clientY, window.innerHeight)\n      } else {\n        state.mousePosition.current = new Vector2();\n      }\n  }\n\n  useEventListener('mousemove', onMouseMove);\n\n  useEffect(() => void onScroll({target:scrollArea.current}), []);\n  return (\n    <>\n      <Canvas background=\"#000000\" orthographic camera={{ zoom: state.zoom, position: [20, 50, 200] }}>\n        <Suspense fallback={<Box />}>\n          <BackDrop/>\n          <ambientLight intensity={0.8} />\n          {/* <pointLight position={[5, 5, 10]} intensity={6} /> */}\n          {/* <pointLight position={[-5, -5, 10]} intensity={6} /> */}\n          <Content/>\n        </Suspense>\n      </Canvas>\n      <div ref={scrollArea} onScroll={onScroll} className='scroll-area'>\n        <div style={{ height: `${2 * 100}vh` }} />\n      </div>\n    </>\n  );\n}\nexport default App;\n","/Users/miguelroncancio/Personal_projects/architech-demo/src/store.js",[],"/Users/miguelroncancio/Personal_projects/architech-demo/src/hooks/useSection.js",[],["37","38"],"/Users/miguelroncancio/Personal_projects/architech-demo/src/components/Section.jsx",[],"/Users/miguelroncancio/Personal_projects/architech-demo/src/hooks/useEventListener.js",[],["39","40"],"/Users/miguelroncancio/Personal_projects/architech-demo/src/util/index.js",[],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":14,"column":10,"nodeType":"47","messageId":"48","endLine":14,"endColumn":15},{"ruleId":"41","replacedBy":"49"},{"ruleId":"43","replacedBy":"50"},{"ruleId":"41","replacedBy":"51"},{"ruleId":"43","replacedBy":"52"},"no-native-reassign",["53"],"no-negated-in-lhs",["54"],"no-unused-vars","'Model' is defined but never used.","Identifier","unusedVar",["53"],["54"],["53"],["54"],"no-global-assign","no-unsafe-negation"]